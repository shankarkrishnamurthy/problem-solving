from heapq import *
class Solution:
    def minCost(self, mt, ed, pf):
        g=[[] for i in range(len(pf))]
        for (x,y,t) in ed:
            g[x].append((y,t)), g[y].append((x,t))
        q=[(pf[0], 0, 0)]
        dt=[100000001]*(len(pf))
        while q:
            (c,n,t) = heappop(q)
            if t > mt: continue
            if n == len(pf)-1: return c
            for (nn, nt) in g[n]:
                if nt+t < dt[nn]:
                    dt[nn] = nt+t
                    heappush(q, (pf[nn]+c, nn, t+nt))
        return -1
"""
class Solution:
    def minCost(self, maxTime, edges, passingFees):
        n = len(passingFees)
        
        g = [[] for i in range(n)]
        for e in edges:
            g[e[0]].append((e[1], e[2]))
            g[e[1]].append((e[0], e[2]))
            
        times = {}
        pq = [(passingFees[0],0,0)]
        while pq:
            cost, node, time = heappop(pq)
            if time > maxTime: continue
            if node == n-1: return cost
            if node not in times or times[node] > time:
                times[node] = time
                for nbor, trip in g[node]:
                    heappush(pq, (passingFees[nbor]+cost, nbor, time+trip))
        return -1
"""
print(Solution().minCost(500, [[526,528,1],[551,552,2],[172,171,2],[274,276,1],[457,456,1],[139,138,3],[619,621,2],[662,660,3],[652,651,3],[308,306,1],[475,474,3],[400,402,3],[314,312,2],[100,102,2],[10,12,2],[613,612,1],[217,219,1],[469,471,1],[431,432,2],[302,300,1],[133,132,1],[157,156,3],[116,117,1],[409,411,1],[113,111,3],[736,738,1],[664,663,3],[304,306,1],[502,504,1],[95,96,2],[607,606,3],[676,678,1],[143,144,3],[592,591,1],[700,702,2],[62,63,2],[322,321,1],[361,363,3],[256,258,1],[637,639,1],[595,597,1],[482,483,2],[88,90,1],[746,744,1],[260,258,1],[313,312,1],[23,21,1],[512,513,1],[263,261,1],[122,123,1],[203,201,3],[377,375,2],[355,357,1],[5,6,2],[68,66,1],[286,288,2],[473,474,1],[91,90,2],[205,207,2],[151,150,2],[733,735,1],[278,279,1],[632,633,3],[119,117,2],[80,78,1],[676,675,1],[8,9,2],[250,249,2],[722,720,2],[704,702,2],[644,642,1],[472,471,3],[674,672,3],[598,600,1],[524,525,1],[706,708,1],[247,246,3],[275,273,2],[316,315,1],[329,330,2],[430,429,1],[706,705,1],[334,333,1],[299,300,1],[667,669,3],[199,201,1],[728,729,1],[61,60,1],[623,624,1],[145,144,1],[319,321,3],[242,243,1],[730,729,3],[349,348,3],[401,399,1],[26,27,1],[635,636,3],[107,105,1],[536,537,1],[395,393,1],[341,342,2],[140,141,1],[415,414,2],[587,588,2],[715,714,3],[262,261,3],[208,210,2],[239,240,1],[205,204,2],[485,483,1],[562,561,1],[47,48,3],[622,621,3],[629,627,3],[724,723,1],[478,480,1],[412,414,1],[296,294,1],[503,501,3],[296,297,1],[124,123,3],[382,384,2],[260,261,1],[293,291,3],[326,324,1],[727,726,2],[625,627,3],[340,339,1],[121,123,2],[493,495,1],[289,288,1],[481,483,1],[76,78,1],[178,177,3],[131,132,2],[674,675,2],[262,264,2],[98,99,2],[365,366,1],[439,441,2],[211,210,1],[136,135,1],[25,27,2],[397,396,1],[716,714,1],[653,654,1],[154,153,3],[92,93,1],[50,51,1],[538,540,2],[281,279,1],[673,672,1],[323,324,3],[565,564,2],[592,594,1],[614,615,3],[547,546,1],[554,552,2],[49,51,2],[176,174,3],[677,678,3],[595,594,1],[557,558,1],[659,657,1],[422,423,1],[251,252,1],[142,144,1],[40,39,2],[605,606,3],[194,192,3],[5,3,3],[511,513,3],[224,225,1],[529,528,1],[529,531,1],[685,684,3],[376,375,1],[734,732,3],[562,564,1],[436,438,1],[707,705,2],[463,462,2],[193,195,1],[439,438,3],[428,429,1],[317,318,3],[88,87,1],[83,81,2],[545,543,1],[185,186,1],[329,327,2],[440,438,1],[184,183,2],[583,582,1],[188,189,2],[167,168,1],[49,48,2],[737,735,2],[257,255,3],[721,723,1],[95,93,3],[389,390,2],[481,480,1],[79,78,3],[455,456,1],[20,21,1],[359,357,2],[446,444,3],[727,729,2],[1,0,1],[161,162,2],[350,351,1],[335,333,3],[149,147,1],[215,216,1],[599,600,3],[32,33,1],[284,285,1],[604,606,1],[437,438,2],[164,162,2],[238,237,3],[100,99,2],[344,345,1],[52,51,1],[530,528,3],[487,486,1],[248,246,1],[532,534,1],[179,180,1],[619,618,2],[407,408,1],[496,498,2],[398,396,2],[419,417,1],[616,615,2],[520,522,1],[614,612,3],[116,114,1],[16,18,2],[17,15,1],[337,339,1],[59,57,1],[743,741,3],[602,600,2],[430,432,1],[694,693,1],[68,69,1],[56,57,3],[521,519,2],[181,180,3],[701,699,1],[419,420,1],[344,342,1],[442,444,1],[617,615,1],[626,624,1],[322,324,1],[140,138,1],[382,381,2],[229,231,2],[461,459,1],[400,399,3],[212,210,2],[539,537,1],[623,621,1],[749,750,1],[148,150,2],[589,588,2],[274,273,1],[485,486,1],[512,510,1],[308,309,1],[551,549,3],[500,501,2],[553,552,1],[515,516,3],[41,39,1],[310,312,2],[191,192,3],[388,387,1],[542,543,3],[170,168,3],[548,546,3],[331,330,1],[679,681,3],[583,585,1],[137,135,2],[661,660,1],[263,264,1],[356,354,3],[436,435,1],[187,186,1],[179,177,1],[206,207,1],[712,714,3],[700,699,2],[593,594,2],[565,567,2],[578,579,1],[728,726,1],[440,441,1],[80,81,1],[118,120,1],[14,12,2],[22,24,2],[73,75,3],[110,108,3],[298,300,3],[584,585,2],[431,429,3],[182,180,1],[521,522,2],[137,138,3],[224,222,1],[566,567,1],[691,693,1],[326,327,1],[85,84,1],[152,150,1],[337,336,1],[559,558,3],[386,387,1],[55,54,1],[467,468,1],[692,693,3],[689,687,3],[164,165,2],[286,285,3],[563,564,3],[421,420,3],[584,582,3],[580,582,1],[434,435,1],[722,723,3],[188,186,2],[178,180,3],[35,36,2],[107,108,1],[127,126,2],[65,63,1],[112,111,1],[136,138,1],[665,663,1],[214,216,2],[514,513,1],[628,627,1],[695,696,3],[218,219,2],[476,474,1],[625,624,3],[238,240,3],[13,15,1],[667,666,3],[283,285,2],[14,15,3],[241,243,2],[73,72,3],[622,624,3],[644,645,1],[548,549,2],[299,297,1],[290,291,2],[128,126,1],[353,351,2],[620,618,1],[236,237,1],[295,297,2],[671,669,3],[671,672,2],[332,330,3],[505,504,1],[212,213,2],[233,231,1],[313,315,1],[175,177,1],[89,87,2],[586,588,1],[392,390,1],[346,345,1],[325,327,2],[121,120,3],[601,600,1],[305,306,2],[433,432,2],[277,279,3],[601,603,1],[122,120,1],[214,213,3],[44,42,2],[698,699,3],[607,609,3],[571,570,3],[638,639,3],[349,351,3],[524,522,1],[557,555,1],[268,267,1],[125,123,1],[655,654,3],[737,738,3],[343,342,2],[634,636,1],[518,516,3],[7,9,1],[118,117,1],[653,651,1],[679,678,3],[272,270,3],[442,441,1],[166,168,3],[94,93,1],[506,504,2],[184,186,3],[514,516,1],[101,102,1],[181,183,3],[509,507,1],[472,474,3],[670,672,1],[334,336,1],[650,651,1],[709,708,1],[133,135,1],[244,246,1],[110,111,3],[352,354,1],[593,591,3],[563,561,3],[458,456,3],[253,255,1],[470,468,3],[553,555,1],[112,114,1],[520,519,1],[403,405,2],[259,258,2],[368,369,2],[19,18,3],[466,465,3],[718,717,1],[413,411,3],[388,390,1],[385,387,3],[287,285,1],[358,357,1],[389,387,2],[62,60,2],[397,399,1],[227,225,3],[292,294,1],[647,645,1],[401,402,1],[536,534,1],[716,717,1],[691,690,1],[568,567,2],[749,747,1],[307,309,2],[454,453,2],[652,654,2],[173,171,1],[482,480,2],[211,213,1],[97,99,1],[497,495,1],[491,489,3],[617,618,1],[331,333,1],[197,195,1],[341,339,2],[38,36,1],[271,270,1],[109,111,1],[581,582,2],[338,339,2],[575,576,1],[98,96,3],[266,264,1],[166,165,2],[40,42,2],[701,702,1],[17,18,1],[302,303,1],[535,534,3],[55,57,1],[155,156,1],[83,84,3],[428,426,1],[466,468,3],[460,462,3],[199,198,1],[362,363,1],[626,627,1],[310,309,2],[307,306,3],[748,747,2],[463,465,3],[682,684,3],[281,282,1],[493,492,1],[665,666,1],[709,711,1],[577,576,2],[392,393,1],[383,384,1],[476,477,1],[464,462,1],[97,96,1],[517,516,1],[416,414,1],[167,165,1],[632,630,3],[541,540,1],[13,12,1],[643,645,3],[85,87,1],[688,687,1],[202,201,1],[92,90,1],[361,360,3],[77,75,3],[355,354,1],[490,492,1],[301,303,3],[134,135,2],[71,69,1],[637,636,1],[175,174,1],[416,417,1],[254,252,2],[434,432,1],[697,696,1],[25,24,3],[364,363,3],[734,735,2],[395,396,1],[611,609,3],[404,405,1],[115,114,3],[547,549,1],[23,24,1],[608,606,1],[2,0,3],[670,669,1],[251,249,1],[58,57,3],[28,27,1],[374,372,2],[130,129,1],[418,417,3],[425,423,1],[20,18,1],[449,447,1],[721,720,1],[130,132,1],[314,315,2],[11,12,1],[467,465,1],[58,60,3],[128,129,1],[649,651,3],[280,282,2],[451,450,3],[364,366,3],[394,396,3],[46,45,1],[517,519,1],[574,576,3],[269,270,2],[677,675,3],[503,504,3],[469,468,1],[475,477,2],[149,150,1],[569,567,1],[169,171,1],[449,450,1],[317,315,2],[542,540,3],[605,603,2],[56,54,3],[427,429,2],[4,3,1],[739,741,3],[550,549,1],[646,645,2],[209,210,1],[37,36,3],[4,6,1],[599,597,3],[707,708,3],[500,498,3],[154,156,2],[398,399,2],[367,369,1],[124,126,2],[518,519,2],[556,558,3],[182,183,1],[32,30,1],[499,501,1],[385,384,2],[379,381,3],[220,219,1],[148,147,2],[350,348,1],[143,141,2],[386,384,1],[220,222,1],[113,114,3],[409,408,1],[44,45,3],[731,732,1],[157,159,2],[631,633,1],[427,426,2],[508,510,2],[560,558,1],[35,33,3],[656,657,1],[703,702,1],[544,543,2],[560,561,1],[511,510,2],[158,156,1],[698,696,3],[26,24,1],[46,48,1],[43,42,1],[103,105,3],[692,690,3],[71,72,1],[457,459,1],[604,603,1],[725,726,2],[650,648,1],[203,204,2],[394,393,3],[635,633,2],[41,42,1],[715,717,2],[247,249,3],[293,294,3],[89,90,3],[494,492,3],[226,228,1],[218,216,2],[404,402,1],[94,96,1],[448,447,3],[47,45,3],[64,63,3],[233,234,1],[695,693,3],[391,393,2],[272,273,3],[127,129,3],[523,525,3],[257,258,3],[295,294,2],[545,546,1],[590,591,1],[146,147,2],[719,720,3],[311,309,1],[443,441,3],[70,69,2],[554,555,2],[169,168,1],[613,615,1],[160,159,1],[425,426,1],[343,345,3],[574,573,2],[29,30,2],[358,360,1],[335,336,3],[602,603,3],[289,291,1],[170,171,2],[668,666,1],[415,417,3],[292,291,1],[266,267,1],[559,561,2],[730,732,2],[697,699,1],[443,444,3],[407,405,1],[371,369,1],[586,585,1],[611,612,2],[196,195,3],[391,390,2],[134,132,2],[680,678,1],[8,6,2],[278,276,1],[410,408,3],[736,735,1],[544,546,2],[193,192,1],[191,189,3],[421,423,3],[725,723,2],[610,609,1],[82,84,1],[217,216,1],[719,717,3],[34,33,1],[445,444,1],[458,459,2],[641,639,3],[298,297,3],[598,597,1],[437,435,3],[190,189,1],[460,459,3],[119,120,2],[455,453,1],[569,570,1],[379,378,3],[353,354,3],[484,483,3],[19,21,2],[245,243,2],[187,189,1],[412,411,1],[556,555,3],[250,252,3],[620,621,1],[284,282,1],[241,240,2],[380,378,1],[172,174,3],[383,381,1],[173,174,1],[433,435,3],[658,657,3],[265,264,3],[197,198,1],[82,81,1],[268,270,1],[661,663,1],[106,108,3],[254,255,2],[70,72,3],[566,564,1],[643,642,3],[490,489,1],[649,648,2],[253,252,1],[362,360,1],[502,501,1],[202,204,1],[248,249,1],[52,54,1],[713,714,1],[581,579,2],[712,711,3],[76,75,1],[641,642,3],[235,234,3],[256,255,1],[131,129,2],[77,78,3],[488,489,3],[194,195,3],[125,126,1],[647,648,1],[577,579,2],[596,594,2],[67,69,3],[346,348,1],[31,33,3],[629,630,3],[539,540,1],[571,573,2],[319,318,2],[196,198,2],[406,408,3],[232,234,2],[496,495,3],[568,570,3],[451,453,2],[508,507,2],[370,372,3],[686,687,1],[163,162,1],[590,588,1],[470,471,2],[370,369,2],[740,738,1],[304,303,1],[686,684,1],[271,273,1],[320,321,1],[200,201,2],[74,72,1],[245,246,3],[2,3,3],[580,579,1],[634,633,1],[109,108,1],[7,6,1],[487,489,1],[236,234,1],[145,147,1],[410,411,2],[473,471,1],[596,597,2],[37,39,2],[43,45,1],[277,276,3],[535,537,2],[658,660,2],[368,366,2],[377,378,3],[325,324,2],[541,543,1],[746,747,1],[659,660,1],[190,192,1],[742,741,1],[646,648,2],[454,456,2],[376,378,1],[374,375,3],[106,105,2],[86,84,3],[418,420,2],[685,687,2],[680,681,1],[163,165,1],[221,219,2],[373,375,1],[227,228,2],[446,447,3],[742,744,1],[694,696,1],[506,507,2],[50,48,1],[160,162,1],[673,675,1],[380,381,1],[631,630,1],[158,159,1],[152,153,1],[664,666,2],[53,54,3],[290,288,3],[235,237,2],[662,663,3],[301,300,2],[683,684,1],[229,228,3],[739,738,3],[64,66,3],[86,87,3],[499,498,1],[146,144,3],[269,267,3],[655,657,3],[424,423,2],[532,531,1],[365,363,1],[323,321,2],[223,222,2],[53,51,2],[703,705,1],[509,510,1],[505,507,1],[22,21,2],[338,336,3],[59,60,1],[683,681,1],[718,720,1],[373,372,1],[533,531,3],[352,351,1],[223,225,3],[479,477,2],[533,534,3],[422,420,1],[232,231,3],[226,225,1],[682,681,2],[29,27,3],[494,495,3],[484,486,2],[74,75,1],[445,447,1],[538,537,2],[230,228,1],[280,279,3],[356,357,3],[640,639,1],[452,450,1],[478,477,1],[104,105,1],[616,618,3],[724,726,1],[16,15,2],[578,576,1],[221,222,3],[406,405,3],[688,690,1],[526,525,1],[176,177,3],[523,522,3],[239,237,1],[733,732,1],[209,207,1],[206,204,1],[515,513,3],[347,348,2],[589,591,2],[359,360,3],[608,609,1],[28,30,1],[230,231,1],[139,141,2],[311,312,1],[115,117,3],[704,705,3],[244,243,1],[185,183,1],[745,747,2],[101,99,1],[640,642,1],[710,708,3],[587,585,3],[305,303,2],[452,453,1],[151,153,3],[371,372,1],[424,426,2],[79,81,2],[448,450,2],[347,345,2],[283,282,2],[91,93,3],[242,240,1],[748,750,2],[65,66,1],[740,741,1],[31,30,2],[367,366,1],[656,654,1],[550,552,1],[200,198,2],[328,330,1],[34,36,1],[710,711,2],[67,66,2],[689,690,2],[10,9,2],[275,276,3],[38,39,1],[491,492,2],[479,480,2],[259,261,2],[332,333,2],[316,318,1],[628,630,1],[610,612,1],[155,153,1],[265,267,2],[61,63,1],[745,744,2],[320,318,1],[713,711,1],[530,531,3],[161,159,2],[668,669,1],[731,729,1],[527,525,3],[743,744,3],[142,141,1],[638,636,2],[215,213,1],[208,207,3],[1,3,1],[488,486,2],[103,102,2],[328,327,1],[572,570,1],[527,528,3],[497,498,1],[403,402,2],[572,573,1],[287,288,1],[575,573,1],[464,465,1],[340,342,1],[413,414,3],[104,102,1],[461,462,1],[11,9,1]], [457,976,774,577,965,743,252,977,857,649,798,961,468,969,905,828,533,957,318,629,993,431,134,978,595,400,985,311,995,528,458,895,967,541,997,634,14,342,992,214,573,955,525,970,188,213,961,211,312,182,962,23,990,477,184,956,137,154,752,994,351,994,777,414,681,968,802,433,986,276,141,954,52,475,988,501,971,365,112,888,997,625,971,437,334,995,764,847,974,875,839,730,990,730,964,770,290,961,206,462,849,968,592,717,960,850,178,979,585,958,582,576,981,626,268,88,959,737,999,456,22,809,983,433,597,968,181,388,988,555,969,212,529,961,363,299,998,510,716,717,999,682,986,399,283,955,895,834,133,968,216,346,995,749,226,998,813,732,982,617,965,114,704,992,537,669,204,956,120,962,347,278,446,990,642,988,929,818,794,972,48,316,1000,816,434,977,137,950,143,635,989,67,114,968,469,716,231,976,221,986,464,259,992,392,262,353,954,899,567,997,843,967,511,945,919,980,382,953,399,399,984,642,552,391,985,899,977,36,573,271,998,162,372,951,394,821,986,865,504,986,707,486,980,244,965,946,238,464,974,929,450,967,502,953,604,796,965,154,226,404,970,214,810,960,261,759,988,262,963,843,469,965,679,272,989,393,817,278,975,142,560,998,104,285,985,152,439,951,880,960,667,649,960,131,434,949,995,687,162,990,132,353,951,881,988,803,747,228,961,846,541,978,285,992,582,837,957,601,256,410,963,752,964,642,398,704,992,894,973,834,90,994,256,430,963,591,662,977,928,346,983,837,234,746,968,804,997,939,715,94,968,741,968,796,329,962,209,632,985,709,699,788,1000,789,293,978,512,991,428,287,695,965,155,1000,384,115,958,643,738,352,968,577,236,967,716,253,995,228,971,28,104,341,971,489,362,957,633,1000,721,595,247,969,559,175,974,583,364,1000,345,991,236,631,966,223,1,388,965,692,640,994,467,55,981,815,757,995,672,350,951,478,994,105,307,30,982,335,961,847,428,682,998,763,983,382,130,980,675,278,131,954,464,384,953,596,283,963,779,994,348,825,797,983,932,211,954,822,460,951,258,999,483,294,675,966,105,556,996,667,970,309,88,978,915,57,440,957,241,982,933,851,952,507,619,992,613,323,228,981,547,972,680,723,956,490,105,962,460,578,718,976,541,6,970,434,991,335,210,968,68,331,989,900,920,391,963,384,963,898,305,964,267,504,966,757,595,940,962,625,696,964,163,962,105,841,7,974,102,968,683,518,978,689,254,962,869,10,86,979,663,823,979,417,985,897,687,588,982,434,831,994,111,948,973,5,784,963,394,246,966,268,961,406,864,970,5,319,977,51,830,558,975,729,966,542,88,957,272,904,987,370,525,980,754,872,991,275,812,174,996,513,988,287,296,978,500,132,203,978,395,760,976,618,607,1000,921,52,968,844,985,197,430,989,518,454,973,798,22,964,754,703,989,489,401,169,952,487,366,988,422,35,989,811,111,989,339,428,975,524,252,959,746,980,411,269,498,959,99,248,969,792,959,149,314,951,565,53,987,578,541,183,992,858,733,950,609,142,951,149,984,673,507,954,463,933,954,654,117,950,882,706,551,961,319,975,334,361,991,531,939,964,818,45,658,988,709,108,971,589,982,696,265,964,595,512,959,483,675,829,1000,293,613,974,568,962,83,46,975,467,375,234,961,887,959,284,702,548,965,295,304,984,105]))
